/* =========================================================
   VENUE MAP — BASE
   ========================================================= */
.vmap-page {
  padding: 16px;
  font-family: 'Poppins', sans-serif;
}

/* Alerts (เดิม) */
.vmap-alert {
  background: #ffeef0;
  color: #86181d;
  padding: 8px 10px;
  border-radius: 8px;
}

/* =========================================================
   CONTROLS BAR (FILTERS / SEARCH / SELECT / GHOST BTNS)
   ========================================================= */
.vmap-controls {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 8px;
}
/* ของเดิมที่อิง bootstrap ก็ยังอยู่ได้ */
.vmap-controls .form-control { min-width: 220px; flex: 1 1 220px; }
.vmap-controls .form-select  { min-width: 150px; }

/* Filter mode buttons (เดิม) */
.vmap-filterBtns { display: inline-flex; gap: 8px; }
.vmap-filterBtn {
  appearance: none;
  border: 1px solid #ccc;
  background: transparent;
  color: #000;
  padding: 9px 50px;
  font: inherit;
  line-height: 1;
  border-radius: 4px;
  cursor: pointer;
  transition: background .6s ease, color .6s ease, border-color .6s ease, box-shadow .6s ease;
}
.vmap-filterBtn:hover,
.vmap-filterBtn:focus-visible { background: #f5f5f5; outline: none; }
.vmap-filterBtn.is-active { background: #000; color: #fff; border-color: #000; }
.vmap-filterBtn.is-active:hover,
.vmap-filterBtn.is-active:focus-visible { background: #111; }

/* Search box (เดิม) */
.vmap-searchBox {
  position: relative;
  display: flex;
  align-items: center;
  border: 1px solid #ccc;
  border-radius: 20px;
  padding: 6px 12px;
  background: transparent;
  min-width: 400px;
}
.vmap-searchInput {
  flex: 1; border: none; outline: none;
  font-size: 14px; background: transparent; color: #333;
}
.vmap-searchInput::placeholder { color: #999; }
.vmap-searchIcon {
  display:flex; align-items:center; justify-content:center;
  color:#666; margin-left:6px; pointer-events:none;
}

/* Unified select (รวมกฎซ้ำให้เหลือบล็อกเดียว) */
.vmap-selectWrap {
  position: relative;
  min-width: 150px;
  display: inline-flex;
  align-items: center;
  border: 1px solid #ccc;
  border-radius: 20px;
  padding: 8px 12px;     /* ใช้ค่าบล็อกที่สองของเดิม */
  background: transparent;
}
.vmap-select {
  appearance: none;
  border: none; outline: none; background: transparent;
  color: #333; font-size: 14px; line-height: 1.2;
  padding: 2px 28px 2px 2px;  /* เผื่อพื้นที่ caret ขวา */
}
.vmap-selectCaret {
  position: absolute; right: 10px; top: 50%;
  transform: translateY(-50%);
  pointer-events: none;
  display: inline-flex; align-items: center; justify-content: center;
  color: #666;
}
/* ความกว้างเฉพาะแนวเพลง / รัศมี */
.vmap-genreBox { width: 308px; flex: 0 0 auto; }
.vmap-radiusSelectWrap { min-width: 140px; }
.vmap-radiusSelect { width: 130px; }

/* Ghost button (เดิม) */
.vmap-ghostBtn {
  border: 1px solid #ccc; background: transparent; color: #333;
  border-radius: 20px; padding: 8px 14px; font: inherit; line-height: 1.2;
  cursor: pointer; display: inline-flex; align-items: center; gap: 8px;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.vmap-ghostBtn:hover,
.vmap-ghostBtn:focus-visible {
  border-color: #111; box-shadow: 0 0 0 3px rgba(0,0,0,.08); outline: none;
}



/* =========================================================
   LAYOUT — MAP (LEFT) + LIST (RIGHT)
   NOTE:
   - เดิมคุณใช้ .vmap-grid สำหรับ layout (2fr/1fr)
   - JSX ใหม่ใช้ .vmap-twoCol แทน เพื่อลดชนกับ .vmap-grid (การ์ด)
   ========================================================= */

/* (LEGACY) ถ้าโค้ดเก่ายังอ้าง .vmap-grid เป็น layout จะยังทำงานได้
   แต่ JSX ล่าสุดไม่ใช้บล็อกนี้แล้ว */
.vmap-grid {
  display: grid;
  grid-template-columns: 2fr 1fr; /* map left, list right */
  gap: 12px;
}
.vmap-grid--map-right { grid-template-columns: 1fr 2fr; }
.vmap-grid--map-right .vmap-mapPane { order: 2; }

/* Layout ใหม่ที่ JSX ใช้จริง */
.vmap-twoCol {
  display: grid;
  grid-template-columns: 55% 1fr;  /* ซ้าย map / ขวา list */
  gap: 12px;
  align-items: start;
}
@media (max-width: 1100px) { .vmap-twoCol { grid-template-columns: 1fr; } }

/* =========================================================
   MAP CONTAINER
   ========================================================= */

/* เดิม */
/* .vmap-mapPane {
  height: 70vh; min-height: 420px;
  border-radius: 8px; overflow: hidden;
  border: 3px solid #555;
} */

/* กล่อง map ใหม่ที่ JSX ใช้ (.vmap-mapBox อยู่ด้านในคอลัมน์ซ้าย)
   — ปรับความสูงตรงนี้ให้ “เตี้ยลง” ได้ */
.vmap-mapBox {
  height: 81vh;         /* ชอบเตี้ย/สูง ปรับได้ 56–70vh */
  min-height: 420px;
  border-radius: 8px;
  overflow: hidden;
  border: 2px solid #ccc;
}

/* Popup (เดิม) */
.leaflet-container .vmap-popup { min-width: 220px; }
.vmap-popup .vmap-popup-title { font-weight: 600; margin-bottom: 2px; }
.vmap-popup .vmap-popup-meta { font-size: 12px; color: #555; margin-bottom: 6px; }
.vmap-popup .vmap-popup-distance { font-size: 12px; color: #333; margin-bottom: 6px; }
.vmap-popup .vmap-popup-actions { display: flex; gap: 6px; flex-wrap: wrap; }

/* =========================================================
   SIDE LIST + CARDS (ใช้กับ JSX ใหม่)
   ========================================================= */
.vmap-listPane {
  background: #fff;
  border: 2px solid #ccc;
  border-radius: 8px;
  padding: 10px;
  max-height: calc(100vh - 140px);
  overflow: auto;
}
.vmap-listHeader {
  font-weight: 600; color: #231f20;
  padding: 6px 8px 10px;
  border-bottom: 1px dashed #ccc;
  margin-bottom: 10px;
}

/* ทำให้ .vmap-grid ภายใน list เป็น "การ์ดกริด" (override ตัว legacy ด้านบน) */
.vmap-listPane .vmap-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 12px;
}

/* Card */
.vmap-card {
  border: 1px solid #eee;
  border-radius: 8px;
  background: #fff;
  overflow: hidden;
  transition: transform .4s ease, box-shadow .4s ease, border-color .4s ease;
}
.vmap-card:hover {
  /* transform: translateY(-2px); */
  border-color: #ccc;
  box-shadow: 0 8px 20px rgba(0,0,0,.08);
}
.vmap-cardImg { position: relative; aspect-ratio: 4/3; background: #f3f3f3; overflow: hidden; }
.vmap-cardImg img { width: 100%; height: 100%; object-fit: cover; display: block; }
.vmap-cardBody { padding: 10px 12px 12px; }
.vmap-cardTitle { font-weight: 600; color: #111; font-size: 16px; line-height: 1.25; margin-bottom: 6px; }
.vmap-cardSub, .vmap-sub { color: #444; font-size: 13px; }
.vmap-cardSub { margin-bottom: 6px; }
.vmap-cardLink {
  display: inline-block; font-size: 13px; color: #0b57d0;
  text-decoration: underline; margin-bottom: 8px; word-break: break-word;
}
.vmap-cardMeta { display: flex; gap: 6px; flex-wrap: wrap; margin-bottom: 10px; }
.vmap-badge {
  font-size: 12px; color: #333; background: #f2f2f2;
  border: 1px solid #e9e9e9; border-radius: 999px; padding: 2px 8px; white-space: nowrap;
}
.vmap-cardActions { display: flex; gap: 8px; flex-wrap: wrap; }
.vmap-btn, .vmap-btnGhost {
  font-size: 13px; padding: 6px 10px; border-radius: 999px;
  border: 1px solid #222; text-decoration: none;
  display: inline-flex; align-items: center; justify-content: center;
  transition: background .12s ease, color .12s ease;
}
.vmap-btn { background: #111; color: #fff; }
.vmap-btn:hover { background: #000; color: #fff; }
.vmap-btnGhost { background: #fff; color: #111; }
.vmap-btnGhost:hover { background: #111; color: #fff; }
.vmap-empty { padding: 16px; color: #777; text-align: center; }

/* =========================================================
   LEAFLET PIN (DIVICON) — ใช้คงสไตล์เดิมที่ให้มา
   ========================================================= */

/* ==== Hover grow for image pins ==== */
.leaflet-marker-icon.vmap-imgPin {
  transform-origin: center bottom;     /* ขยายจากฐานหมุด จะไม่ลอยพิกัด */
  transition: transform .14s ease, filter .18s ease;
  filter: drop-shadow(0 2px 8px rgba(0,0,0,.35));
}

/* ขยาย “นิดหน่อย” + เงาเข้มขึ้น */
.leaflet-marker-icon.vmap-imgPin:hover {
  transform: translateY(-2px) scale(1.08);
  filter: drop-shadow(0 6px 18px rgba(0,0,0,.45));
}

/* ให้ตัวที่ถูกชี้ลอยขึ้นบน (กันทับกัน) */
.leaflet-marker-pane .vmap-imgPin:hover {
  z-index: 1000 !important;
}

/* (ออปชั่น) สำหรับจอสัมผัส – กดแล้วขยายเบา ๆ */
.leaflet-marker-icon.vmap-imgPin:active {
  transform: translateY(-1px) scale(1.03);
}


/* กล่องรอบ SVG */
.vmap-pin-wrap {
  display: flex; align-items: center; justify-content: center;
  border-radius: 50%;
  backdrop-filter: blur(0.5px);
  -webkit-backdrop-filter: blur(0.5px);
  background: rgba(255,255,255,1);
  box-shadow: 0 2px 2px rgb(0, 0, 0);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}
/* hover */
.vmap-pin-wrap:hover { 
  transform: scale(1.15) translateY(-2px); 
  box-shadow: 0 6px 18px rgba(0,0,0,0.5); }
 
/* แยกชนิด (ตอนนี้ให้เป็นพื้นขาวโปร่งใสเหมือนกัน) */
.vmap-pin-wrap.venue-pin { background: rgba(255, 255, 255, 0.5); }
.vmap-pin-wrap.event-pin { background: rgba(255, 255, 255, 0.5); }


.vmap-link { color: #111; text-decoration: none; }
.vmap-link:hover { text-decoration: underline; }


.vmap-link { color: #111; text-decoration: none; }
.vmap-link:hover { text-decoration: underline; }
.vmap-btn { display:inline-flex; align-items:center; padding:6px 10px; border-radius:8px; }
.vmap-btn-ghost { border:1px solid #e5e5e5; background:#fff; color:#111; }
.vmap-btn-ghost:hover { background:#f6f6f6; }



/* ===== Popup title/link (ให้ดำก่อน, hover ค่อยเปลี่ยน) ===== */
.leaflet-container .leaflet-popup-content a.vmap-popupTitleLink {
  color: #111 !important;
  text-decoration: none;
  font-weight: 600;
}
.leaflet-container .leaflet-popup-content a.vmap-popupTitleLink:hover {
  color: #555 !important;
  text-decoration: underline;
}
.vmap-popupTitle { font-weight: 600; line-height: 1.2; }
.vmap-popupSub { margin-top: 2px; font-size: 12px; color: #555; }

/* ===== ลิงก์หัวการ์ดในลิสต์ ===== */
.vmap-cardTitleLink { color:#111; text-decoration:none; font-weight:600; }
.vmap-cardTitleLink:hover { text-decoration:underline; }

/* บรรทัดย่อยใต้ชื่อในการ์ด */
.vmap-cardSub { margin-top:2px; color:#555; font-size:13px; }
.vmap-sub { white-space:nowrap; overflow:hidden; text-overflow:ellipsis; display:inline-block; max-width:100%; }



/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 1100px) {
  .vmap-twoCol { grid-template-columns: 1fr; }
}
@media (max-width: 900px) {
  .vmap-listPane { max-height: none; }
  .vmap-mapBox  { height: 55vh; }
}
